<html>
    <div id="app_navbar_container">
        <ul id="app_navbar">
            <a class="nav_link">
                <li id="nav_home" class="nav_item nav_selected"> 
                    <img class="nav_icon" src="images/icons/ic_home.svg"></img>
                    <label class="nav_name">Home</label>
                </li>
            </a>
            <a class="nav_link">
                <li id="nav_wellness" class="nav_item nav_deselected">
                    <img class="nav_icon" src="images/icons/ic_wellness.svg"></img>
                    <label class="nav_name">Wellness</label>
                </li>
            </a>
            <a class="nav_link">
                <li id="nav_tracking" class="nav_item nav_deselected">
                    <img class="nav_icon" src="images/icons/ic_progress.svg"></img>
                    <label class="nav_name">Tracking</label>
                </li>
            </a>
            <a class="nav_link">
                <li id="nav_health" class="nav_item nav_deselected">
                    <img class="nav_icon" src="images/icons/ic_health.svg"></img>
                    <label class="nav_name">External Care</label>
                </li>
            </a>
        </ul>
        <!-- <a class="nav_link">
            <div id="nav_emergency_button" class="nav_item animated fadeInUp delay-1s">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
        </a> -->
    </div>
    <script>

        let name_home     = "home";
        let name_well     = "wellness";
        let name_tracking = "tracking";
        let name_health   = "health";
        let nav_home      = $("#nav_home");
        let nav_well      = $("#nav_wellness");
        let nav_trck      = $("#nav_tracking");
        let nav_hlth      = $("#nav_health")
        let current_nav   = nav_home;
        let nav_effect    = "bounceIn";

        nav_home.click(function() { switchNav(name_home);     });
        nav_well.click(function() { switchNav(name_well);     });
        nav_trck.click(function() { switchNav(name_tracking); });
        nav_hlth.click(function() { switchNav(name_health);   });

        function switchNav(pageName) {
            loadPage(pageName);
            navSelect(current_nav, false);
            current_nav = getNavItemFromName(pageName);
            navSelect(current_nav);
        }

        function getNavItemFromName(name) {
            switch(name) {
                case name_home:     return nav_home;
                case name_well:     return nav_well;
                case name_tracking: return nav_trck;
                case name_health:   return nav_hlth;
            }
        }

        function navSelect(item, select = true) {
            if(select) {
                item.removeClass("nav_deselected");
                item.addClass("nav_selected");
                animate(item, nav_effect);
            }
            else {
                item.removeClass("nav_selected");
                item.addClass("nav_deselected");
                removeAnimation(item, nav_effect);
            }
        }

        app_log('Navigation injected.', C_LOAD);

    </script>
</html>