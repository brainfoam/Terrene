<html>
    <style>
        #app_body {
            overflow: hidden;
            -webkit-overflow-scrolling: none;
        }
    </style>
    <script type="text/javascript">

        (function() {

            //---------------------------------------------------
            //Home canvas variables
            let APP, APP_TYPE, APP_STAGE, APP_RENDERER
            let APP_ID       = "interactive_home_canvas";
            let APP_B_MARGIN = 45;
            let APP_WIDTH    = window.innerWidth;
            let APP_HEIGHT   = window.innerHeight - APP_B_MARGIN;
            //---------------------------------------------------

            //Sets up the PIXI JS canvas for the home menu.
            function setUpHomeCanvas() {
                
                //Welcome Message
                PIXI.utils.sayHello(APP_TYPE);

                //Set App Type
                APP_TYPE = (!PIXI.utils.isWebGLSupported()) ? "canvas" : "WebGL";

                //Add event listener for reactive resizing
                window.addEventListener("resize", function() {
                    APP.renderer.resize(APP_WIDTH, APP_HEIGHT);
                });

                //Set up app element
                APP_STAGE = new PIXI.Container();
                APP = new PIXI.Application(APP_WIDTH, APP_HEIGHT);
                APP.view.id = APP_ID;
                APP.view.setAttribute("scroll", "no");
                APP.view.classList.add("animated");
                APP.view.classList.add("fadeIn");
                APP_RENDERER = PIXI.renderer;

                //Load assets
                preload();
                
                //Add update ticker
                APP.ticker.add(update);

                //Append app element to body
                $("#app_body").append(APP.view);
            }

            function preload() {

            }

            //Update the PIXI canvas at 60/fps.
            function update(dt) {
                updateCanvasSize();

            }

            //Update the canvas size.
            function updateCanvasSize() {
                APP_WIDTH = window.innerWidth;
                APP_HEIGHT = window.innerHeight - APP_B_MARGIN;
            }

            setUpHomeCanvas();
            
        })();
    
        app_log('Interactive Home page injected.', C_LOAD);
        
    </script>
</html>
